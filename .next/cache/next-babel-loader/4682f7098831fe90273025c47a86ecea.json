{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/julianakatz/Documents/MIT/Module 29/full-stack-restaurant-app-1-self-study-activities_starter/GraphQL Schema And Query Types/next-restaurant-05-master/components/context.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// /* /context/AppContext.js */\n// import React from \"react\";\n// // create auth context with default value\n// // set backup default for isAuthenticated if none is provided in Provider\n// const AppContext = React.createContext({\n//   isAuthenticated: true,\n//   cart: { items: [], total: 0 },\n//   addItem: () => {},\n//   removeItem: () => {},\n//   user: false,\n//   setUser: () => {},\n// });\n// export default AppContext;\nimport { createContext, useState } from \"react\";\nexport var AppContext = /*#__PURE__*/createContext({});\nexport var AppProvider = function AppProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = useState({\n    isAuthenticated: false,\n    setIsAuthenticated: function setIsAuthenticated() {},\n    cart: {\n      items: [],\n      total: 0\n    },\n    user: false,\n    setUser: function setUser() {},\n    addItems: function addItems() {},\n    removeItems: function removeItems() {}\n  }),\n      globalData = _useState[0],\n      setGlobalData = _useState[1];\n\n  globalData.setIsAuthenticated = function (boolVal) {\n    setGlobalData(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        isAuthenticated: boolVal\n      });\n    });\n  };\n\n  globalData.setUser = function (userData) {\n    setGlobalData(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        user: userData\n      });\n    });\n  };\n\n  globalData.addItems = function (item) {\n    var items = globalData.cart.items;\n    var foundItem = true;\n\n    if (items.length > 0) {\n      foundItem = items.find(function (i) {\n        return i.attributes.dishId === item.attributes.dishId;\n      });\n      if (!foundItem) foundItem = false;\n    } else {\n      foundItem = false;\n    }\n\n    if (!foundItem) {\n      var temp = JSON.parse(JSON.stringify(item));\n      temp.quantity = 1;\n      var newCart = {\n        items: [].concat(_toConsumableArray(globalData.cart.items), [temp]),\n        total: globalData.cart.total + item.attributes.price\n      };\n      setGlobalData(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          cart: newCart\n        });\n      });\n    } else {\n      newCart = {\n        items: items.map(function (item) {\n          if (item.attributes.dishId === foundItem.attributes.dishId) {\n            return Object.assign({}, item, {\n              quantity: item.quantity + 1\n            });\n          } else {\n            return item;\n          }\n        }),\n        total: globalData.cart.total + item.attributes.price\n      };\n      setGlobalData(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          cart: newCart\n        });\n      });\n    }\n  };\n\n  globalData.removeItems = function (item) {\n    var items = globalData.cart.items;\n    var foundItem = items.find(function (i) {\n      return i.attributes.dishId === item.attributes.dishId;\n    });\n    console.log(foundItem);\n\n    if (foundItem.quantity > 1) {\n      var newCart = {\n        items: items.map(function (item) {\n          if (item.attributes.dishId === foundItem.attributes.dishId) {\n            return Object.assign({}, item, {\n              quantity: item.quantity - 1\n            });\n          } else {\n            return item;\n          }\n        }),\n        total: globalData.cart.total - item.attributes.price\n      };\n    } else {\n      var index = items.findIndex(function (i) {\n        return i.attributes.dishId === foundItem.attributes.dishId;\n      });\n      items.splice(index, 1);\n      var newCart = {\n        items: items,\n        total: globalData.cart.total - item.attributes.price\n      };\n    }\n\n    setGlobalData(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        cart: newCart\n      });\n    });\n  };\n\n  return __jsx(AppContext.Provider, {\n    value: {\n      globalData: globalData,\n      setGlobalData: setGlobalData\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, children);\n};\n\n_s(AppProvider, \"D3LtYUcCjsXqhZPD9MiR8lA9w8E=\");\n\n_c = AppProvider;\nexport default AppContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"sources":["/Users/julianakatz/Documents/MIT/Module 29/full-stack-restaurant-app-1-self-study-activities_starter/GraphQL Schema And Query Types/next-restaurant-05-master/components/context.js"],"names":["createContext","useState","AppContext","AppProvider","children","isAuthenticated","setIsAuthenticated","cart","items","total","user","setUser","addItems","removeItems","globalData","setGlobalData","boolVal","prev","userData","item","foundItem","length","find","i","attributes","dishId","temp","JSON","parse","stringify","quantity","newCart","price","map","Object","assign","console","log","index","findIndex","splice"],"mappings":"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","sourcesContent":["// /* /context/AppContext.js */\n\n// import React from \"react\";\n// // create auth context with default value\n\n// // set backup default for isAuthenticated if none is provided in Provider\n// const AppContext = React.createContext({\n//   isAuthenticated: true,\n//   cart: { items: [], total: 0 },\n//   addItem: () => {},\n//   removeItem: () => {},\n//   user: false,\n//   setUser: () => {},\n// });\n// export default AppContext;\n\nimport { createContext, useState } from \"react\";\n\nexport const AppContext = createContext({});\n\nexport const AppProvider = ({ children }) => {\n  const [globalData, setGlobalData] = useState({\n    isAuthenticated: false,\n    setIsAuthenticated: () => {},\n    cart: {\n      items: [],\n      total: 0,\n    },\n    user: false,\n    setUser: () => {},\n    addItems: () => {},\n    removeItems: () => {},\n  });\n\n  globalData.setIsAuthenticated = (boolVal) => {\n    setGlobalData((prev) => ({ ...prev, isAuthenticated: boolVal }));\n  };\n\n  globalData.setUser = (userData) => {\n    setGlobalData((prev) => ({ ...prev, user: userData }));\n  };\n\n  globalData.addItems = (item) => {\n    let { items } = globalData.cart;\n    let foundItem = true;\n\n    if (items.length > 0) {\n      foundItem = items.find(\n        (i) => i.attributes.dishId === item.attributes.dishId\n      );\n\n      if (!foundItem) foundItem = false;\n    } else {\n      foundItem = false;\n    }\n\n    if (!foundItem) {\n      let temp = JSON.parse(JSON.stringify(item));\n      temp.quantity = 1;\n\n      var newCart = {\n        items: [...globalData.cart.items, temp],\n        total: globalData.cart.total + item.attributes.price,\n      };\n\n      setGlobalData((prev) => ({ ...prev, cart: newCart }));\n    } else {\n      newCart = {\n        items: items.map((item) => {\n          if (item.attributes.dishId === foundItem.attributes.dishId) {\n            return Object.assign({}, item, { quantity: item.quantity + 1 });\n          } else {\n            return item;\n          }\n        }),\n        total: globalData.cart.total + item.attributes.price,\n      };\n\n      setGlobalData((prev) => ({ ...prev, cart: newCart }));\n    }\n  };\n\n  globalData.removeItems = (item) => {\n    let { items } = globalData.cart;\n\n    const foundItem = items.find(\n      (i) => i.attributes.dishId === item.attributes.dishId\n    );\n\n    console.log(foundItem);\n\n    if (foundItem.quantity > 1) {\n      var newCart = {\n        items: items.map((item) => {\n          if (item.attributes.dishId === foundItem.attributes.dishId) {\n            return Object.assign({}, item, { quantity: item.quantity - 1 });\n          } else {\n            return item;\n          }\n        }),\n        total: globalData.cart.total - item.attributes.price,\n      };\n    } else {\n      const index = items.findIndex(\n        (i) => i.attributes.dishId === foundItem.attributes.dishId\n      );\n\n      items.splice(index, 1);\n\n      var newCart = {\n        items: items,\n        total: globalData.cart.total - item.attributes.price,\n      };\n    }\n\n    setGlobalData((prev) => ({ ...prev, cart: newCart }));\n  };\n\n  return (\n    <AppContext.Provider value={{ globalData, setGlobalData }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppContext;"]},"metadata":{},"sourceType":"module"}